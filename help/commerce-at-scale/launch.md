---
title: 성능 테스트 팁
description: Adobe Commerce 및 Adobe Experience Manager 솔루션을 실행하기 위한 KPI를 설정하는 방법을 알아봅니다.
exl-id: 4b0d9c4f-e611-452d-a80f-27f82705935d
source-git-commit: e76f101df47116f7b246f21f0fe0fa72769d2776
workflow-type: tm+mt
source-wordcount: '1147'
ht-degree: 0%

---

# 성능 테스트 팁

위의 모든 변경 사항의 효율성을 평가하려면 Go-Live 전 및 향후 프로덕션 환경에 대한 주요 배포 전에 철저한 성능 테스트를 실행해야 합니다. 로드 테스트를 계획할 때 실제 소비자 트래픽을 가능한 한 많이 시뮬레이션하는 것이 중요합니다.

AEM/CIF/Adobe 상거래 사이트에서 가장 많은 리소스가 많이 사용되는 영역은 체크아웃 프로세스 및 사이트 검색과 같이 캐시할 수 없는 영역입니다. 따라서 정적이며, PDP(Product Detail Page) 및 PLP(Product Listing Page)와 같은 페이지 브라우징은 일반적으로 전자 상거래 사이트에 대한 트래픽의 대부분을 차지하므로, 테스트의 스크립트 및 시나리오는 플랫폼의 제한을 측정하기 위해 이를 반영해야 합니다.

로드 테스트를 위해 실행 중인 단일 스크립트를 사용하여 단계 간 대기 시간 없이 사이트를 탐색하고, 항상 체크아웃 프로세스를 완료하지만, 매번 이 프로세스를 완료할 때마다 플랫폼의 한계를 확실히 나타내지 않습니다. 이는 실제 시나리오가 아닙니다.

KPI 정의는 성과 테스트 계획의 첫 번째 단계여야 합니다. 초기 테스트 중에 테스트할 수 있는 지표를 정의한 다음 나중에 사이트가 라이브 상태가 된 후 되풀이하여 측정할 수 있습니다. 이를 통해 출시 전 및 사후 사이트 성능 추적을 수행할 수 있습니다. 정의할 KPI의 예는 다음과 같습니다.

- 평균 응답 시간 - 첫 번째 바이트 또는 마지막 바이트에 이르는 시간
- 지연
- 바이트/초(처리량)
- 오류율
- 시간당 주문 수
- 시간당 페이지 보기 수
- 시간당 고유 사용자 수(동시 구매자)

## Jmeter 지침

AEM/CIF/Adobe Commerce 로드 테스트를 개발할 때에는 다음 Jmeter 높은 수준 지침을 고려해야 합니다.

- 스크립트를 구성 가능한 시나리오로 분할합니다. 여기에는 예를 들어, 다음과 같습니다.
   - 홈 페이지 열기
   - PLP(카테고리 페이지) 열기
   - 단순 제품 보기(PDP) - 각 반복 내에서 루프 2개
   - 구성 가능한 제품 보기 - 각 반복 내에서 루프 2개
      - 예를 들어 위의 단계를 트래픽의 60%로 설정합니다
   - 제품 검색
      - 예를 들어 카탈로그 검색을 트래픽의 37%로 설정합니다
   - 장바구니 및 체크아웃
      - 예를 들어 스크립트에서 장바구니 및 체크아웃 부분을 완료하는 사용자는 기본적으로 약 3%의 업계 표준 전자 상거래 사이트 전환율로 설정해야 합니다
      - 체크아웃 플로우가 닫히고 일반적으로 리소스 집약적 작업이 되므로, 주문을 완료하는 사람 수에 대해 비현실적으로 높은 수를 설정하는 것과 사이트 브라우저 수를 설정하는 것은 사이트에서 처리할 수 있는 트래픽 볼륨에 대해 신뢰할 수 없는 결과를 제공합니다.
- 각 테스트를 실행하기 전에 모든 캐시를 정리합니다.
   - AEM 디스패처 캐시를 완전히 정리해야 합니다
   - Adobe Commerce의 기본 및 내부 캐시를 완전히 플러시하고 정리해야 합니다. 이 작업은 Adobe Commerce 관리자의 캐시 제어를 통해 수행할 수 있습니다.
- Jmeter 테스트에 램프 기간을 포함합니다. 램프 기간이 설정되지 않으면 트래픽의 점진적 램프 증가를 의미하지 않으며 사이트에서 일반적으로 방문한 페이지 및 페이지의 구성 요소를 캐시할 가능성이 없습니다. 실제 환경에서는 모든 피크 트래픽이 정확히 동시에 완전히 연결되지 않은 사이트에 도달하는 것은 이례적입니다. 따라서 실제 전자 상거래 사이트에서 발생하는 것처럼 캐시가 빌드되도록 하려면 Jmeter 테스트 스크립트에 램프 기간을 포함해야 합니다.
- 반복 내의 각 단계 간 &quot;대기 시간&quot;은 사용해야 합니다. 실제로 사용자는 사용하지 않습니다
여정 중에 사이트의 다음 페이지로 바로 이동합니다. 페이지를 읽고 다음 작업을 결정하는 동안 대기 시간이 걸립니다.
- 스레드 그룹을 무한대로 루프하도록 설정하면 x(예: 60분)의 설정된 시간 동안 이전 테스트 실행과 비교할 수 있는 중간 응답 시간을 사용하여 반복 가능한 테스트를 제공합니다. 즉, 설정된 램프 업 기간 후에 동시에 실행되는 대상 가상 사용자 수가 있으며 설정된 루프 시간 동안 계속 실행됩니다.
- 평균 시간이 아닌 평균 응답 시간을 개선/감소시키는 데 중간값을 사용해야 합니다. If
다른 결과보다 훨씬 오래 걸리는 여러 가지 에지 결과가 있으므로 이 평균 결과가 왜곡되지만, 중간 측정값에 더 적합한 대부분의 사용자에 대한 최종 사용자 응답 시간에 관심이 있습니다.
- 포함된 리소스는 기본적으로 jmeter에서 수집되지 않습니다(예: 실제 사용자가 페이지를 방문할 때 다운로드한 JS, CSS 및 기타 리소스). 이 기능은 활성화할 수 있지만, 테스트하고 있는 도메인에 대해서만 제외해야 합니다(예: 외부에서 호스팅된 서비스의 응답 시간을 포함하지는 않으려고 함). google analytics 코드(제어할 수 없으므로)입니다.
- HTTP 캐시 관리자를 활성화해야 하며 이를 통해 Jmeter가 여정 중에 페이지 요소를 다음 방법으로 캐시할 수 있습니다
실제 사용자의 여정은 자체 브라우저에서 웹 사이트를 검색하는 동안 발생합니다. 사이트를 통해 여정 중에 사용자의 브라우저는 포함된 관련 리소스를 한 번만 다운로드한 다음 사용자의 브라우저에 의해 캐시됩니다. 또한 동일한 사용자가 원래 방문 후 잠시 후에 사이트를 재방문한 경우에도 해당 자산이 캐시되는 캐시일 수 있습니다.
- 리스너는 실제 로드 테스트 실행(예: &quot;결과 트리 보기&quot; 및 &quot;집계 보고서&quot;) 내에 유지되어야 합니다. GUI가 아닌 실제 로드 테스트 실행에 이 항목을 포함하면 실제 테스트 실행 중에 리소스를 사용하여 보고서를 생성하므로 Jmeter가 보고한 성능 결과에 영향을 줄 수 있습니다. 이러한 수신기는 테스트 스크립트에서 제거되어 JTL 결과 파일로 대체된 후 Jmeter의 보고서 대시보드 기능을 사용하여 처리할 수 있습니다.
- 대시보드 보고서의 &quot;Apdex 점수&quot;를 테스트 실행 간 성능 변화에 대한 영향을 측정하는 빠른 방법으로 사용할 수 있도록 평가된 대상 응답 시간입니다. Apdex 점수는 허용 가능한 시간 내에 사이트에 액세스할 수 있는 특정 사용자를 기반으로 합니다. 응답 시간이 특정 &quot;좌절스러운&quot; 양을 초과하는 경우 점수가 줄어듭니다. 시간은 &quot;apdex_만족_ threshold&quot; 및 &quot;apdex_unghent_threshold&quot; 매개 변수를 사용하여 설정할 수 있습니다.
- 가상 사용자 수가 아닌 비즈니스 사용자에게 제시하려면 타겟 &quot;시간당 주문 수&quot; 지표를 설정하십시오. &quot;가상 사용자&quot;는 테스트가 실제로 측정하는 것을 이해하는 복잡한 주제일 수 있습니다. 사이트 전환율, 시간당 주문 수, 사용자가 사이트에서 보낸 평균 시간 및 각 페이지 로드 사이의 생각할 시간을 계산하여 업계 표준 계산을 사용하여 달성할 시간당 주문에 따라 서로 다른 로드 테스트 시나리오를 제시할 수 있습니다.
- 마지막으로 Jmeter 테스트 서버는 대부분의 사용자 트래픽이 오고 있는 곳 및 클라우드 인프라가 호스팅되는 위치와 지리적으로 가까운 서버에서 실행해야 합니다. 이러한 서버 수가 같아야 합니다.
