---
title: 데이터베이스 성능 솔루션 분할
description: Adobe Commerce 및 Magento Open Source을 위한 데이터베이스 분할 솔루션에 대해 읽어 보십시오.
source-git-commit: 5e072a87480c326d6ae9235cf425e63ec9199684
workflow-type: tm+mt
source-wordcount: '626'
ht-degree: 0%

---


# 분할 데이터베이스 솔루션 개요

{{ee-only}}

{{deprecate-split-db}}

Adobe Commerce은 Commerce 애플리케이션의 다양한 기능 영역에 대해 별도의 마스터 데이터베이스 3개를 사용하는 기능을 포함하여 몇 가지 확장성 이점을 제공합니다.

체크아웃, 주문 및 제품 데이터는 각각 선택적으로 복제할 수 있는 별도의 마스터 데이터베이스를 사용할 수 있습니다. 이러한 분리는 필요에 따라 웹 사이트 체크아웃, 주문 관리 활동, 웹 사이트 탐색 및 머천다이징 활동에서 로드를 독립적으로 확장합니다. 이러한 변경 사항을 통해 데이터베이스 계층의 크기를 유연하게 확장할 수 있습니다.

>[!INFO]
>
>Adobe Commerce on cloud 인프라에서는 다음을 수행합니다 _not_ 이 기능을 지원합니다.

다음 `ResourceConnections` 클래스는 Commerce 응용 프로그램에 대한 통합 MySQL 데이터베이스 연결을 제공합니다. 마스터 데이터베이스에 대한 쿼리를 위해 CQRS(Command Query Responsibility Diratory) 데이터베이스 패턴을 구현합니다. 이 패턴은 읽기 및 쓰기 쿼리를 적절한 데이터베이스에 라우팅하는 논리를 처리합니다. 개발자는 사용 중인 구성과 별도의 읽기 및 쓰기 데이터베이스 연결이 없다는 사실을 알 필요가 없습니다.

선택적 데이터베이스 복제를 설정하는 경우 다음과 같은 이점이 있습니다.

- 데이터 백업
- 마스터 데이터베이스에 영향을 주지 않고 데이터 분석
- 확장성

MySQL 데이터베이스는 비동기적으로 복제되므로 마스터에서 업데이트를 받기 위해 슬레이브를 영구적으로 연결할 필요가 없습니다.

다음 그림은 이 기능이 작동하는 방식을 보여줍니다.

![Adobe Commerce에서는 다른 데이터베이스를 사용하여 테이블을 저장합니다](../../assets/configuration/split-db-diagram-ee.png)

Magento Open Source에서 하나의 마스터 데이터베이스만 사용됩니다.

Adobe Commerce에서는 세 개의 마스터 데이터베이스와 복제 데이터베이스를 구성 가능한 수만큼 사용합니다. Adobe Commerce에는 데이터베이스 연결을 위한 단일 인터페이스가 있으므로 더 빠른 성능과 더 나은 확장성을 제공합니다.

## 구성 옵션

분할 데이터베이스 성능 솔루션을 설계하는 방식 때문에 사용자 지정 코드와 설치된 구성 요소 _사용할 수 없음_ 다음 중 하나를 수행합니다.

- 데이터베이스에 직접 쓰기(대신 Adobe Commerce 데이터베이스 인터페이스를 사용해야 함)
- 판매 또는 견적 데이터베이스에 영향을 주는 JOIN 사용
- 체크 아웃, 판매 또는 기본 데이터베이스의 테이블에 외래 키를 사용합니다

>[!WARNING]
>
>구성 요소 개발자에게 문의하여 구성 요소가 이전 작업을 수행하는지 확인합니다. 그럴 경우 다음 중 하나만 선택해야 합니다.
>
>- 구성 요소 개발자에게 구성 요소를 업데이트하도록 요청합니다.
>- 구성 요소를 있는 그대로 사용 _사용 안 함_ 데이터베이스 분할 솔루션
>- 분할 데이터베이스 솔루션을 사용할 수 있도록 구성 요소를 제거합니다.


즉, 다음 중 하나를 수행할 수도 있습니다.

- 분할 데이터베이스 솔루션 구성 _이전_ 상업적인 것을 생산합니다.

   Adobe은 상거래 소프트웨어를 설치한 후 가능한 한 빨리 분할 데이터베이스를 구성할 것을 권장합니다.

- [수동으로 구성](multi-master-manual.md) 데이터베이스 분할 솔루션

   구성 요소를 이미 설치했거나 Commerce가 이미 프로덕션 상태인 경우 이 작업을 수행해야 합니다. (_금지_ 프로덕션 시스템 업데이트 개발 시스템에서 업데이트를 수행하고 테스트한 후 변경 사항을 동기화합니다.)

   >[!WARNING]
   >
   >두 개의 추가 데이터베이스 인스턴스를 수동으로 백업해야 합니다. 상거래(Commerce)는 기본 데이터베이스 인스턴스만 백업합니다. 다음 [`magento setup:backup --db`](../../installation/tutorials/backup.md) 명령 및 관리 옵션은 추가 테이블을 백업하지 않습니다.

## 전제 조건

분할 데이터베이스를 사용하려면 모든 호스트에 세 개의 MySQL 마스터 데이터베이스(상거래 서버의 세 개, 별도의 서버의 각 데이터베이스 등)를 설정해야 합니다. 다음은 _마스터_ 데이터베이스 및 이러한 데이터베이스는 다음과 같이 사용됩니다.

- 체크 아웃 테이블에 대한 하나의 마스터 데이터베이스
- 판매 테이블에 대한 하나의 마스터 데이터베이스(즉, _Order Management 시스템_, 또는 _OMS_, 표)
- 상거래 2 응용 프로그램 테이블의 나머지 부분에 대한 하나의 마스터 데이터베이스

또한 원하는 개수의 _노예_ 로드 밸런서와 백업 역할을 하는 데이터베이스

이 안내서에서는 마스터 데이터베이스만 설정하는 방법을 설명합니다. 원하는 경우 슬레이브 데이터베이스를 설정할 수 있도록 샘플 구성과 참조를 제공합니다.

이 안내서에서는 세 개의 마스터 데이터베이스의 이름이 다음과 같습니다.

- `magento_quote`
- `magento_sales`
- `magento`

원하는 대로 데이터베이스의 이름을 지정할 수 있습니다.
